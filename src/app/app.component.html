<div class="layout-wrapper">
    <div id="layout-topbar">
        <a href="#" class="menu-button" (click)="onMenuButtonClick($event)">
            <i class="fa fa-bars"></i>
        </a>
        <navbar-cmp [currentUser]="currentUser"></navbar-cmp>
    </div>

    <div id="layout-sidebar" [ngClass]="{'active': menuActive}">
        <div class="layout-menu" *ngIf="loggedIn && !isAdmin">
            <!-- seccion home -->
                <a id="menu_home" #homemenutitle [class.active-menuitem]="homemenutitle.id == activeMenuId" (click)="activeMenuId = (activeMenuId === homemenutitle.id ? null : homemenutitle.id)">
                    <span class="fas fa-home" [routerLink]="['/home']">  Home</span>                     
                </a>
            
            <!-- seccion perfil usuario -->

                <a id="menu_usuario" #usermenutitle [class.active-menuitem]="usermenutitle.id == activeMenuId" (click)="activeMenuId = (activeMenuId === usermenutitle.id ? null : usermenutitle.id)">
                    <span class="layout-menu-icon-active fas fa-user">  Perfil de Usuario</span>                    
                    
                </a>
                <div class="list-group" [ngClass]="{submenushow: (usermenutitle.id == activeMenuId), 'submenuhide': (usermenutitle.id != activeMenuId)}">
                    <a class="fa fa-angle-right" [routerLink]="['/user']" (click)="menuActive = false"> Mis Datos</a>
                    <a class="fa fa-angle-right" [routerLink]="['/misencuestas']" (click)="menuActive = false"> Mis Encuestas</a>
                    <a class="fa fa-angle-right" [routerLink]="['/dashboard']" (click)="menuActive = false"> Mis Estadisticas</a>
                </div> 

            <!-- seccion editor -->

            <a id="menu_editor" #editormenutitle [class.active-menuitem]="editormenutitle.id == activeEditor" (click)="activeEditor = (activeEditor === editormenutitle.id ? null : editormenutitle.id)">
                    <span class="layout-menu-icon-active fas fa-edit"> Editor</span>  
            </a>
            <div [ngClass]="{submenushow: (editormenutitle.id == activeEditor), 'submenuhide': (editormenutitle.id != activeEditor)}">
                <a class="fa fa-angle-right" [routerLink]="['/surveyeditor']" (click)="menuActive = false">  SurveyEditor</a>
            </div>
        </div>
        <div class="layout-menu" *ngIf="loggedIn && isAdmin">
            <!-- seccion home -->
            <a id="menu_home" #homemenutitle [class.active-menuitem]="homemenutitle.id == activeMenuId" (click)="activeMenuId = (activeMenuId === homemenutitle.id ? null : homemenutitle.id)">
                <span class="fas fa-home" [routerLink]="['/home']">  Home</span>                     
            </a>
            
            <!-- seccion perfil usuario -->

                <a id="menu_usuario" #usermenutitle [class.active-menuitem]="usermenutitle.id == activeMenuId" (click)="activeMenuId = (activeMenuId === usermenutitle.id ? null : usermenutitle.id)">
                    <span class="layout-menu-icon-active fas fa-user">Adm</span>                    
                    
                </a>
                <div [ngClass]="{submenushow: (usermenutitle.id == activeMenuId), 'submenuhide': (usermenutitle.id != activeMenuId)}">
                    <a [routerLink]="['/user']" (click)="menuActive = false">&#9679; Mis Datos</a>
                </div> 
        </div>
    </div> 

    <div class="layout-mask" *ngIf="menuActive">
    </div>

    <div id="layout-content">
        <div>
            <router-outlet></router-outlet>
        </div>
        <div class="content-section layout-footer clearfix">
            <span>Nurvey</span>
            <div class="footer-links">
                <a href="https://github.com/primefaces/primeng"><i class="fa fa-github"></i></a>
                <a href="https://twitter.com/prime_ng"><i class="fa fa-twitter"></i></a>
            <div>
        </div>
    </div>
</div>